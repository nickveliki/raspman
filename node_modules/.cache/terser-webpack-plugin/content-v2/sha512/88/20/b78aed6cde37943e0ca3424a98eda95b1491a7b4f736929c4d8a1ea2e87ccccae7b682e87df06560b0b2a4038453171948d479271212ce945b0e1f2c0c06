{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{194:function(t,e,n){\"use strict\";n.r(e);var o=n(39),r=n(0),i=n.n(r),a=n(6),s=n(31),l=n(30),c=n(27),p=n(29);function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||function(t,e){if(!t)return;if(\"string\"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===n&&t.constructor&&(n=t.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(t);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(t,e)}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var f=function(t){var e=u(Object(r.useState)(\"\"),2),n=e[0],o=e[1],a=u(Object(r.useState)(1),2),s=a[0],l=a[1],m=u(Object(r.useState)(\"pieces\"),2),f=m[0],d=m[1],g=Object(r.useRef)({clientWidth:0});return i.a.createElement(\"div\",{ref:g,style:{display:\"flex\",alignItems:\"center\",justifyContent:\"space-around\"}},i.a.createElement(c.a,{placeholder:\"item\",onChange:o,value:n,style:{input:{border:\"1px solid blue\",padding:\"4px\",borderRadius:\"4px\",width:\"\".concat(g.current.clientWidth-170,\"px\")}}}),i.a.createElement(\"select\",{onChange:function(t){d(t.target.value),\"grams\"==t.target.value&&l(50)},value:f,style:{border:\"1px solid blue\",padding:\"3px\",borderRadius:\"4px\",background:\"white\"}},i.a.createElement(\"option\",null,\"pieces\"),i.a.createElement(\"option\",null,\"bags\"),i.a.createElement(\"option\",null,\"bottles\"),i.a.createElement(\"option\",null,\"cases\"),i.a.createElement(\"option\",null,\"kg\"),i.a.createElement(\"option\",null,\"grams\")),i.a.createElement(\"input\",{type:\"number\",style:{width:\"40px\",border:\"1px solid blue\",padding:\"4px\",borderRadius:\"4px\"},onChange:function(t){var e=parseInt(t.target.value);e>0&&l(e),e>950&&\"grams\"==f&&(l(1),d(\"kg\"))},value:s,step:\"grams\"==f?50:1}),i.a.createElement(\"button\",{className:\"white noborder login pointer\",onClick:function(){return t.addItem(n,s,f)}},i.a.createElement(\"img\",{className:\"btnimg rotate-45\",src:p.a})))},d=n(33),g=function(t){return i.a.createElement(\"div\",{style:{display:\"grid\",alignItems:\"center\",gridTemplateColumns:\"\".concat(t.addtolist?3:4,\"fr 1fr 1fr 1fr\").concat(t.addtolist?\"\":\" 1fr\")}},i.a.createElement(\"label\",null,t.item),t.addtolist?i.a.createElement(\"label\",null,t.quantity):i.a.createElement(\"input\",{style:{width:\"40px\"},type:\"number\",onChange:function(e){return t.changeQuantity(parseInt(e.target.value))},step:t.step,value:t.quantity}),i.a.createElement(\"label\",null,t.quantityType),t.ok&&i.a.createElement(\"button\",{className:\"white noborder login pointer\",onClick:function(){\"function\"==typeof t.ok&&t.ok()}},i.a.createElement(\"img\",{className:\"btnimg\",src:d.a})),t.notok&&i.a.createElement(\"button\",{className:\"white noborder login pointer\",onClick:function(){\"function\"==typeof t.notok&&t.notok()}},i.a.createElement(\"img\",{className:\"btnimg\",src:p.a})),t.addtolist&&\"function\"==typeof t.addtolist&&i.a.createElement(\"button\",{onClick:t.addtolist,className:\"white noborder login pointer\"},i.a.createElement(\"img\",{className:\"btnimg rotate-45\",src:p.a})))},h=n(41);function y(){return(y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function b(t){return function(t){if(Array.isArray(t))return I(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(!t)return;if(\"string\"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===n&&t.constructor&&(n=t.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(t);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(t,e)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){E(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=Object(a.b)((function(t){return t}))((function(t){return!t.state.token||t.state.shoppingItems||t.state.frequentItems||t.state.error?t.state.token&&!t.state.noPostShoppingItems&&t.state.shoppingItems&&!t.state.error&&n.e(0).then(n.bind(null,43)).then((function(e){(0,e.submitShoppingList)(t.state.shoppingItems,t.state.token).then((function(e){t.dispatch({type:\"setFrequentItems\",frequentItems:e,noPostShoppingItems:!0})}),(function(e){t.dispatch({type:\"seterror\",error:e})}))})):n.e(0).then(n.bind(null,43)).then((function(e){(0,e.getShoppingList)(t.state.token).then((function(e){var n=e.shoppingList,o=e.frequentlyUsed,r=e.recentFinds;t.dispatch({type:\"setShoppingList\",shoppingItems:n,frequentItems:o,shoppingItemsFound:r.map((function(t){return w(w({},t),{},{ok:!0})}))})}))})),Object(s.b)(t.state.token,\"shopping\")?i.a.createElement(\"div\",{className:window.innerWidth<465?\"overflow\":\"fullheight grid-3 overflowNo\"},i.a.createElement(l.a,{nooverflow:!0,style:{display:\"flex\",flexDirection:\"column\"},className:\"fill\",innerClassName:window.innerWidth<465?\"fill column_bottom\":\"\",panelHead:i.a.createElement(\"div\",{className:\"login\"},\"Shopping Items\",i.a.createElement(\"button\",{className:\"pointer login noborder white\"},i.a.createElement(\"img\",{className:\"btnimg\",src:h.a,onClick:function(){n.e(0).then(n.bind(null,43)).then((function(e){(0,e.getShoppingList)(t.state.token).then((function(e){var n=e.shoppingList,o=e.frequentlyUsed,r=e.recentFinds;t.dispatch({type:\"setShoppingList\",shoppingItems:n,frequentItems:o,shoppingItemsFound:[].concat(b(r.map((function(t){return w(w({},t),{},{ok:!0})}))),b((t.state.shoppingItemsFound||[]).filter((function(t){return!t.ok}))))})}))}))}}))),components:[].concat(b((t.state.shoppingItems||[]).map((function(e){return i.a.createElement(g,y({},e,{step:\"grams\"==e.quantityType?50:1,changeQuantity:function(n){n&&t.dispatch({type:\"changeShoppingItemQuantity\",shoppingItems:[].concat(b(t.state.shoppingItems.slice(0,t.state.shoppingItems.findIndex((function(t){return e.item==t.item})))),[w(w({},e),{},{quantity:n})],b(t.state.shoppingItems.slice(t.state.shoppingItems.findIndex((function(t){return t.item==e.item}))+1)))})},ok:function(){n.e(0).then(n.bind(null,43)).then((function(n){var o=n.removeShoppingItem,r=n.getShoppingList;o(w(w({},e),{},{ok:!0}),t.state.token).then((function(){r(t.state.token).then((function(n){var o=n.shoppingList,r=n.frequentlyUsed;t.dispatch({type:\"foundShoppingItem\",shoppingItemsFound:[].concat(b(t.state.shoppingItemsFound||[]),[w(w({},e),{},{ok:!0})]),frequentItems:r,shoppingItems:o.filter((function(t){return t.item!=e.item}))})}))}),(function(n){t.dispatch({type:\"foundShoppingItem\",shoppingItemsFound:[].concat(b(t.state.shoppingItemsFound||[]),[w(w({},e),{},{ok:!0})]),error:n,shoppingItems:t.state.shoppingItems.filter((function(t){return t.item!=e.item}))})}))}))},notok:function(){t.dispatch({type:\"removeShoppingItem\",shoppingItems:t.state.shoppingItems.filter((function(t){return t.item!=e.item})),noPostShoppingItems:!1})}}))}))),[i.a.createElement(f,{addItem:function(e,n,o){[].concat(b(t.state.shoppingItems||[]),b(t.state.shoppingItemsFound||[])).find((function(t){return t.item==e}))||t.dispatch({type:\"addShoppingItem\",shoppingItems:[].concat(b(t.state.shoppingItems||[]),[{item:e,quantity:n,quantityType:o}]),noPostShoppingItems:void 0})}})])}),i.a.createElement(l.a,{nooverflow:!0,style:{display:\"flex\",flexDirection:\"column\"},className:\"fill\",panelHead:\"Frequently Requested\",components:b((t.state.frequentItems||[]).filter((function(e){return![].concat(b(t.state.shoppingItems||[]),b(t.state.shoppingItemsFound||[])).find((function(t){return e.item==t.item}))})).map((function(e){return i.a.createElement(g,y({},e,{quantity:e.recommend,addtolist:function(){t.dispatch({type:\"addShoppingItem\",shoppingItems:[].concat(b(t.state.shoppingItems||[]),[w(w({},e),{},{quantity:e.recommend})]),noPostShoppingItems:void 0})}}))})))}),i.a.createElement(l.a,{nooverflow:!0,style:{display:\"flex\",flexDirection:\"column\"},className:\"fill\",panelHead:\"Shopping Items Found\",components:(t.state.shoppingItemsFound||[]).map((function(t){return i.a.createElement(g,y({addtolist:!0},t))}))})):i.a.createElement(o.a,null)}))}}]);","extractedComments":[]}